{"ast":null,"code":"import '@/assets/css/welcomepage.css';\nimport axios from 'axios';\nexport default {\n  name: \"WelcomePage\",\n  props: {\n    loginstatus: {\n      type: Boolean,\n      require: true\n    }\n  },\n  data() {\n    return {\n      isRegister: false\n    };\n  },\n  methods: {\n    toggleForm() {\n      this.isRegister = !this.isRegister;\n    },\n    login() {\n      this.$emit('1000');\n    },\n    register() {\n      if (this.password != this.confirmPassword) {\n        alert(\"两次密码输入不一致！\");\n        return;\n      }\n      axios.post('/users/register', {\n        \"name\": this.username,\n        \"passwd\": this.password,\n        \"email\": this.email\n      }).then(() => {\n        alert(\"注册成功！\");\n        this.isRegister = false;\n      }).catch(() => alert(\"注册失败，请稍后重试！\"));\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","loginstatus","type","Boolean","require","data","isRegister","methods","toggleForm","login","$emit","register","password","confirmPassword","alert","post","username","email","then","catch"],"sources":["D:\\大学学习\\2023春课程文件\\软件工程基础\\Teeerry\\SETeam\\front_end\\trainticketing\\src\\views\\welcome_page\\WelcomePage.vue"],"sourcesContent":["<template>\r\n  <div id=\"welcomeWord\"><p>欢迎使用畅游中国！</p></div>\r\n  <div id=\"input\">\r\n    <form id=\"register-form\" v-if=\"isRegister\">\r\n      <h3>注册</h3>\r\n      <input type=\"text\" placeholder=\"用户名\" v-model=\"username\" /><br><br>\r\n      <input type=\"password\" placeholder=\"密码\" v-model=\"password\" /><br><br>\r\n      <input type=\"password\" placeholder=\"确认密码\" v-model=\"confirmPassword\" /><br><br>\r\n      <input type=\"email\" placeholder=\"邮箱\" v-model=\"email\" /><br><br>\r\n      <input type=\"submit\" value=\"注册\" @click=\"register\" />\r\n      <p>\r\n        已有账号？<a href=\"#\" @click=\"toggleForm\">去登录</a>\r\n      </p>\r\n      <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n    </form>\r\n\r\n    <form id=\"login-form\" v-else>\r\n      <h3>登录</h3>\r\n      <input type=\"text\" placeholder=\"用户名\" v-model=\"username\" /><br><br>\r\n      <input type=\"password\" placeholder=\"密码\" v-model=\"password\" /><br><br>\r\n      <input type=\"submit\" value=\"登录\" @click=\"login\" />\r\n      <p>\r\n        没有账号？<a href=\"#\" @click=\"toggleForm\">去注册</a>\r\n      </p>\r\n      <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/css/welcomepage.css'\r\nimport axios from 'axios'\r\nexport default {\r\n  name: \"WelcomePage\",\r\n  props:{\r\n    loginstatus: {\r\n      type:Boolean,\r\n      require:true\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      isRegister : false\r\n    }\r\n    },\r\n  methods:{\r\n    toggleForm(){\r\n      this.isRegister=!(this.isRegister)\r\n    },\r\n    login(){\r\n      this.$emit('1000');\r\n    },\r\n    register(){\r\n      if(this.password!=this.confirmPassword)\r\n      {\r\n        alert(\"两次密码输入不一致！\");\r\n        return;\r\n      }\r\n      axios.post('/users/register',\r\n          {\r\n            \"name\": this.username,\r\n            \"passwd\":this.password,\r\n            \"email\":this.email\r\n          }).then(() =>{alert(\"注册成功！\");this.isRegister=false;})\r\n          .catch(() =>alert(\"注册失败，请稍后重试！\"))\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  #welcomeWord{\r\n    position:absolute;\r\n    width:100%;\r\n    align-items:center;\r\n    display: block;\r\n    top:250px;\r\n  }\r\n  #welcomeWord p{\r\n    font-size: 26px;\r\n    font-family: Microsoft YaHei,serif;\r\n    font-weight: bold;\r\n    color: white;\r\n  }\r\n  #buttons{\r\n    display: flex;\r\n    flex-wrap:wrap;\r\n  }\r\n  #input{\r\n    position: absolute;\r\n    width:100%;\r\n    align-items:center;\r\n    top:300px;\r\n  }\r\n  #input p{\r\n    color:white;\r\n  }\r\n  #input a{\r\n    text-decoration: none;\r\n    color: white;\r\n    font-family: Microsoft YaHei,serif;\r\n  }\r\n  #input a:visited{\r\n    text-decoration: none;\r\n    color: white;\r\n  }\r\n  #input a:hover{\r\n    text-decoration: none;\r\n    color: orangered;\r\n  }\r\n</style>"],"mappings":"AA8BA,OAAO,8BAA6B;AACpC,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,KAAK,EAAC;IACJC,WAAW,EAAE;MACXC,IAAI,EAACC,OAAO;MACZC,OAAO,EAAC;IACV;EACF,CAAC;EACDC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,UAAS,EAAI;IACf;EACA,CAAC;EACHC,OAAO,EAAC;IACNC,UAAUA,CAAA,EAAE;MACV,IAAI,CAACF,UAAU,GAAC,CAAE,IAAI,CAACA,UAAU;IACnC,CAAC;IACDG,KAAKA,CAAA,EAAE;MACL,IAAI,CAACC,KAAK,CAAC,MAAM,CAAC;IACpB,CAAC;IACDC,QAAQA,CAAA,EAAE;MACR,IAAG,IAAI,CAACC,QAAQ,IAAE,IAAI,CAACC,eAAe,EACtC;QACEC,KAAK,CAAC,YAAY,CAAC;QACnB;MACF;MACAhB,KAAK,CAACiB,IAAI,CAAC,iBAAiB,EACxB;QACE,MAAM,EAAE,IAAI,CAACC,QAAQ;QACrB,QAAQ,EAAC,IAAI,CAACJ,QAAQ;QACtB,OAAO,EAAC,IAAI,CAACK;MACf,CAAC,CAAC,CAACC,IAAI,CAAC,MAAK;QAACJ,KAAK,CAAC,OAAO,CAAC;QAAC,IAAI,CAACR,UAAU,GAAC,KAAK;MAAC,CAAC,EACnDa,KAAK,CAAC,MAAKL,KAAK,CAAC,aAAa,CAAC;IACtC;EAEF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}